const axios = require("axios");

const availableEmojis = [
  "ðŸ˜‚",
  "ðŸ˜‡",
  "ðŸ™ƒ",
  "ðŸ˜",
  "ðŸ˜œ",
  "ðŸ˜˜",
  "ðŸ¤“",
  "ðŸ˜Ž",
  "ðŸ˜¢",
  "ðŸ¤¯",
  "ðŸ˜±",
  "ðŸ¤”",
  "ðŸ˜¶",
  "ðŸ˜µ",
  "ðŸ¤",
  "ðŸ¤¢",
  "ðŸ¤§",
  "ðŸ˜·",
  "ðŸ¤•",
  "ðŸ¤‘",
  "ðŸ¤ ",
  "ðŸ˜ˆ",
  "ðŸ¤¡",
  "ðŸ’©",
  "ðŸ‘»",
  "â˜ ï¸",
  "ðŸ‘½",
  "ðŸ‘¾",
  "ðŸ¤–",
  "ðŸŽƒ",
  "ðŸ’ª",
  "ðŸ’‹",
  "ðŸ’„",
  "ðŸ‘‚",
  "ðŸ‘ƒ",
  "ðŸ‘£",
  "ðŸ‘ï¸",
  "ðŸ‘€",
  "ðŸ§ ",
  "ðŸ‘¶",
  "ðŸ‘",
  "ðŸ¤",
  "ðŸ™Œ",
  "ðŸ‘",
  "ðŸ‘Ž",
  "âœŠ",
  "âœŒï¸",
  "ðŸ¤˜",
  "ðŸ‘Œ",
  "ðŸ‘‰",
  "ðŸ‘‹",
  "âœï¸",
  "ðŸ™",
  "ðŸ’…",
  "ðŸ¤³",
  "ðŸ’ƒ",
  "ðŸ‘•",
  "ðŸ‘–",
  "ðŸ‘—",
  "ðŸ‘™",
  "ðŸ‘˜",
  "ðŸ‘ ",
  "ðŸ‘¢",
  "ðŸ‘ž",
  "ðŸ‘Ÿ",
  "ðŸŽ©",
  "ðŸ‘’",
  "ðŸŽ“",
  "ðŸ‘‘",
  "ðŸ’",
  "ðŸ‘›",
  "ðŸ’¼",
  "ðŸŽ’",
  "ðŸ¶",
  "ðŸ±",
  "ðŸ­",
  "ðŸ°",
  "ðŸ¦Š",
  "ðŸ»",
  "ðŸ¼",
  "ðŸ®",
  "ðŸ¨",
  "ðŸ¯",
  "ðŸ¦",
  "ðŸ·",
  "ðŸ½",
  "ðŸ¸",
  "ðŸµ",
  "ðŸ™ˆ",
  "ðŸ”",
  "ðŸ§",
  "ðŸ£",
  "ðŸ¦†",
  "ðŸ¦…",
  "ðŸ¦‰",
  "ðŸ¦‡",
  "ðŸº",
  "ðŸ—",
  "ðŸ´",
  "ðŸ¦„",
  "ðŸ",
  "ðŸ›",
  "ðŸ¦‹",
  "ðŸŒ",
  "ðŸž",
  "ðŸœ",
  "ðŸ•·ï¸",
  "ðŸ•¸ï¸",
  "ðŸ¦‚",
  "ðŸ¢",
  "ðŸ",
  "ðŸ¦Ž",
  "ðŸŠ",
  "ðŸ¦",
  "ðŸ¦",
  "ðŸ™",
  "ðŸ¦€",
  "ðŸ¬",
  "ðŸ‹",
  "ðŸ¦ˆ",
  "ðŸ˜",
  "ðŸª",
  "ðŸƒ",
  "ðŸ‘",
  "ðŸ",
  "ðŸ¦Œ",
  "ðŸ¦ƒ",
  "ðŸ€",
  "ðŸ¾",
  "ðŸ‰",
  "ðŸŒµ",
  "ðŸŒ²",
  "ðŸŒ´",
  "ðŸ€",
  "ðŸŽ‹",
  "ðŸ",
  "ðŸ„",
  "ðŸš",
  "ðŸ’",
  "ðŸŒ¹",
  "ðŸŒ¸",
  "ðŸŒ»",
  "ðŸŒ•",
  "ðŸŒ™",
  "â­",
  "âœ¨",
  "âš¡",
  "â˜„ï¸",
  "ðŸ’¥",
  "ðŸ”¥",
  "ðŸŒªï¸",
  "ðŸŒˆ",
  "â˜€ï¸",
  "â˜ï¸",
  "â„ï¸",
  "â›„",
  "ðŸ’¨",
  "ðŸ’¦",
  "ðŸŒŠ",
  "ðŸŽ",
  "ðŸ",
  "ðŸŠ",
  "ðŸ‹",
  "ðŸŒ",
  "ðŸ‰",
  "ðŸ‡",
  "ðŸ“",
  "ðŸˆ",
  "ðŸ’",
  "ðŸ‘",
  "ðŸ",
  "ðŸ¥",
  "ðŸ†",
  "ðŸ¥‘",
  "ðŸ¥’",
  "ðŸŒ¶ï¸",
  "ðŸŒ½",
  "ðŸ¥•",
  "ðŸ¥”",
  "ðŸ¥",
  "ðŸž",
  "ðŸ§€",
  "ðŸ¥š",
  "ðŸ³",
  "ðŸ¥ž",
  "ðŸ¥“",
  "ðŸ—",
  "ðŸŒ­",
  "ðŸ”",
  "ðŸŸ",
  "ðŸ•",
  "ðŸ¥™",
  "ðŸŒ®",
  "ðŸŒ¯",
  "ðŸ¥—",
  "ðŸ",
  "ðŸœ",
  "ðŸ£",
  "ðŸ±",
  "ðŸ¤",
  "ðŸš",
  "ðŸ˜",
  "ðŸ¥",
  "ðŸ¡",
  "ðŸ¦",
  "ðŸŽ‚",
  "ðŸ­",
  "ðŸ¬",
  "ðŸ«",
  "ðŸ¿",
  "ðŸ©",
  "ðŸª",
  "ðŸ¥œ",
  "ðŸŒ°",
  "ðŸ¯",
  "ðŸ¥›",
  "ðŸ¼",
  "â˜•",
  "ðŸµ",
  "ðŸ¶",
  "ðŸº",
  "ðŸ·",
  "ðŸ¥ƒ",
  "ðŸ¸",
  "ðŸ¾",
  "ðŸ¥„",
  "ðŸ½ï¸",
  "âš½",
  "ðŸ€",
  "ðŸˆ",
  "âš¾",
  "ðŸŽ¾",
  "ðŸ",
  "ðŸŽ±",
  "ðŸ“",
  "ðŸ¸",
  "ðŸ’",
  "ðŸ",
  "ðŸ¥…",
  "â›³",
  "ðŸ¹",
  "ðŸŽ£",
  "ðŸ¥Š",
  "ðŸ¥‹",
  "ðŸŽ½",
  "â›¸ï¸",
  "ðŸŽ¿",
  "ðŸ†",
  "ðŸŽ–ï¸",
  "ðŸŽŸï¸",
  "ðŸŽª",
  "ðŸŽ­",
  "ðŸŽ¨",
  "ðŸŽ¬",
  "ðŸŽ¤",
  "ðŸŽ§",
  "ðŸŽ¼",
  "ðŸŽ¹",
  "ðŸ¥",
  "ðŸŽ·",
  "ðŸŽº",
  "ðŸŽ¸",
  "ðŸŽ»",
  "ðŸŽ²",
  "â™Ÿï¸",
  "ðŸŽ¯",
  "ðŸŽ³",
  "ðŸŽ®",
  "ðŸŽ°",
  "ðŸš—",
  "ðŸŽï¸",
  "ðŸš“",
  "ðŸš‘",
  "ðŸš’",
  "ðŸšš",
  "ðŸšœ",
  "ðŸš²",
  "ðŸ›µ",
  "ðŸï¸",
  "ðŸš¨",
  "ðŸš ",
  "ðŸš‚",
  "âœˆï¸",
  "ðŸ’º",
  "ðŸš€",
  "ðŸš",
  "ðŸ›¶",
  "â›µ",
  "ðŸš¢",
  "âš“",
  "ðŸš§",
  "ðŸš¦",
  "ðŸ—ºï¸",
  "ðŸ—¿",
  "ðŸ—½",
  "ðŸ—¼",
  "ðŸ°",
  "ðŸ¯",
  "ðŸŸï¸",
  "ðŸŽ¡",
  "ðŸŽ¢",
  "ðŸŽ ",
  "ðŸ–ï¸",
  "â›°ï¸",
  "ðŸ•ï¸",
  "ðŸ ",
  "ðŸ­",
  "ðŸ¥",
  "ðŸ¦",
  "ðŸ›ï¸",
  "â›ª",
  "ðŸ•Œ",
  "ðŸ•",
  "ðŸ—¾",
  "âŒš",
  "ðŸ“±",
  "ðŸ’»",
  "ðŸ–¨ï¸",
  "ðŸ•¹ï¸",
  "ðŸ’¾",
  "ðŸ“·",
  "ðŸŽ¥",
  "ðŸ“Ÿ",
  "ðŸ“º",
  "ðŸ“»",
  "ðŸŽ›ï¸",
  "â°",
  "âŒ›",
  "ðŸ“¡",
  "ðŸ”‹",
  "ðŸ”Œ",
  "ðŸ’¡",
  "ðŸ”¦",
  "ðŸ•¯ï¸",
  "ðŸ›¢ï¸",
  "ðŸ’µ",
  "ðŸ’°",
  "ðŸ’³",
  "ðŸ’Ž",
  "âš–ï¸",
  "ðŸ”§",
  "ðŸ”©",
  "âš™ï¸",
  "â›“ï¸",
  "ðŸ”«",
  "ðŸ’£",
  "ðŸ”ª",
  "ðŸ—¡ï¸",
  "ðŸ›¡ï¸",
  "ðŸš¬",
  "âš°ï¸",
  "ðŸº",
  "ðŸ”®",
  "ðŸ“¿",
  "ðŸ’ˆ",
  "ðŸ”­",
  "ðŸ”¬",
  "ðŸ•³ï¸",
  "ðŸ’Š",
  "ðŸ’‰",
  "ðŸš½",
  "ðŸš°",
  "ðŸš¿",
  "ðŸ›‹ï¸",
  "ðŸ”‘",
  "ðŸšª",
  "ðŸ—„ï¸",
  "ðŸ“Ž",
  "ðŸ“",
  "ðŸ“",
  "ðŸ“Œ",
  "âœ‚ï¸",
  "ðŸ—‘ï¸",
  "ðŸ–¼ï¸",
  "ðŸ›ï¸",
  "ðŸ›’",
  "ðŸŽ",
  "ðŸŽˆ",
  "ðŸŽ",
  "ðŸŽ€",
  "ðŸŽ‰",
  "ðŸŽŽ",
  "ðŸ®",
  "ðŸŽ",
  "âœ‰ï¸",
  "ðŸ“¦",
  "ðŸ“œ",
  "ðŸ“ˆ",
  "ðŸ—žï¸",
  "ðŸ““",
  "ðŸ“–",
  "ðŸ–ï¸",
  "âœï¸",
  "ðŸ”’",
  "â¤ï¸",
  "ðŸ’”",
  "âœï¸",
  "â˜ªï¸",
  "ðŸ•‰ï¸",
  "â˜¸ï¸",
  "âœ¡ï¸",
  "ðŸ•Ž",
  "â˜¯ï¸",
  "â˜¦ï¸",
  "â™ˆ",
  "â™‰",
  "â™Š",
  "â™‹",
  "â™Œ",
  "â™",
  "â™Ž",
  "â™",
  "â™",
  "â™‘",
  "â™’",
  "â™“",
  "ðŸ†”",
  "âš›ï¸",
  "â˜¢ï¸",
  "ðŸ†š",
  "ðŸ†˜",
  "ðŸš«",
  "ðŸš­",
  "ðŸ’¯",
  "â—",
  "â“",
  "âš ï¸",
  "ðŸ”±",
  "âšœï¸",
  "â™»ï¸",
  "ðŸ§",
  "ðŸ†’",
  "ðŸ†•",
  "ðŸ†“",
  "ðŸ†™",
  "ðŸŽµ",
  "âž•",
  "ðŸ’±",
  "ðŸ””",
  "â™ ï¸",
  "â™£ï¸",
  "ðŸƒ",
  "ðŸ€„",
  "ðŸ",
];
const LIMIT = 3; // for now its from 3 to 5
let startIndex = 0;

function getQueryString(emoji) {
  return emoji.trim().repeat(LIMIT);
}

async function apiCall(queryString, index) {
  let url = `https://a.y.at/emoji_id/search?emoji_id=${queryString}`;
  url = url.trim();
  url = encodeURI(url);
  try {
    const response = await axios.get(url);
    const isAvailable = response.data.result.available;
    console.log(index, queryString, url);
    console.log(response.data.result.availability);
    if (isAvailable) {
      console.log("Available", url, index, queryString);
      console.log(response.data);
    }
  } catch (error) {
    console.log("Error at queryString", queryString, "index=", index);
    console.log(error);
  }
}

async function startLoop(index) {
  if (index >= availableEmojis.length) {
    console.log("finished the function");
    return;
  }
  const queryString = getQueryString(availableEmojis[index]);
  await apiCall(queryString, index);
  startLoop(index + 1);
}

startLoop(startIndex);
